{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\huber\\\\Documents\\\\Source\\\\Proyectos\\\\KeepCoding\\\\React_Avanzado\\\\react-practica-main\\\\react-practica\\\\src\\\\components\\\\adverts\\\\AdvertForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Select from 'react-select';\nimport { createAdvert, getTags } from '../../api/adverts';\nimport { MDBInput, MDBBtn } from 'mdb-react-ui-kit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdvertForm = ({\n  onSubmit\n}) => {\n  _s();\n  const [name, setName] = useState('');\n  const [sale, setSale] = useState(false);\n  const [price, setPrice] = useState('');\n  const [tags, setTags] = useState([]);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [photo, setPhoto] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const data = await getTags();\n        setTags(data.map(tag => ({\n          label: tag,\n          value: tag\n        })));\n      } catch (error) {\n        console.error('Error al obtener los tags:', error);\n      }\n    };\n    fetchTags();\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!name || !price || selectedTags.length === 0) {\n      setError('Por favor, completa todos los campos obligatorios');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('name', name);\n    formData.append('sale', sale);\n    formData.append('price', price);\n    formData.append('tags', selectedTags.map(tag => tag.value));\n    if (photo) {\n      formData.append('photo', photo);\n    }\n    onSubmit(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(MDBInput, {\n      label: \"Nombre\",\n      type: \"text\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"select\",\n      value: sale,\n      onChange: e => setSale(e.target.value === 'true'),\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"false\",\n        children: \"Compra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"true\",\n        children: \"Venta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n      label: \"Precio\",\n      type: \"number\",\n      value: price,\n      onChange: e => setPrice(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Etiquetas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        isMulti: true,\n        options: tags,\n        value: selectedTags,\n        onChange: setSelectedTags,\n        className: \"basic-multi-select\",\n        classNamePrefix: \"select\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Foto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: e => setPhoto(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n      type: \"submit\",\n      disabled: !name || !price || selectedTags.length === 0,\n      children: \"Crear anuncio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(AdvertForm, \"tn2+o8cKh8QuIvhb/DhyhW5zB9I=\");\n_c = AdvertForm;\nexport default AdvertForm;\nvar _c;\n$RefreshReg$(_c, \"AdvertForm\");","map":{"version":3,"names":["React","useEffect","useState","Select","createAdvert","getTags","MDBInput","MDBBtn","jsxDEV","_jsxDEV","AdvertForm","onSubmit","_s","name","setName","sale","setSale","price","setPrice","tags","setTags","selectedTags","setSelectedTags","photo","setPhoto","error","setError","fetchTags","data","map","tag","label","value","console","handleSubmit","e","preventDefault","length","formData","FormData","append","className","children","type","onChange","target","required","fileName","_jsxFileName","lineNumber","columnNumber","isMulti","options","classNamePrefix","accept","files","disabled","_c","$RefreshReg$"],"sources":["C:/Users/huber/Documents/Source/Proyectos/KeepCoding/React_Avanzado/react-practica-main/react-practica/src/components/adverts/AdvertForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Select from 'react-select';\nimport { createAdvert, getTags } from '../../api/adverts';\nimport { MDBInput, MDBBtn } from 'mdb-react-ui-kit';\n\nconst AdvertForm = ({ onSubmit }) => {\n  const [name, setName] = useState('');\n  const [sale, setSale] = useState(false);\n  const [price, setPrice] = useState('');\n  const [tags, setTags] = useState([]);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [photo, setPhoto] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const data = await getTags();\n        setTags(data.map((tag) => ({ label: tag, value: tag })));\n      } catch (error) {\n        console.error('Error al obtener los tags:', error);\n      }\n    };\n\n    fetchTags();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!name || !price || selectedTags.length === 0) {\n      setError('Por favor, completa todos los campos obligatorios');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('name', name);\n    formData.append('sale', sale);\n    formData.append('price', price);\n    formData.append(\n      'tags',\n      selectedTags.map((tag) => tag.value)\n    );\n    if (photo) {\n      formData.append('photo', photo);\n    }\n    onSubmit(formData);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"container mt-5\">\n      <MDBInput\n        label=\"Nombre\"\n        type=\"text\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n        required\n      />\n\n      <select\n        className=\"select\"\n        value={sale}\n        onChange={(e) => setSale(e.target.value === 'true')}\n        required\n      >\n        <option value=\"false\">Compra</option>\n        <option value=\"true\">Venta</option>\n      </select>\n\n      <MDBInput\n        label=\"Precio\"\n        type=\"number\"\n        value={price}\n        onChange={(e) => setPrice(e.target.value)}\n        required\n      />\n\n      <div>\n        <label>Etiquetas</label>\n        <Select\n          isMulti\n          options={tags}\n          value={selectedTags}\n          onChange={setSelectedTags}\n          className=\"basic-multi-select\"\n          classNamePrefix=\"select\"\n          required\n        />\n      </div>\n\n      <div>\n        <label>Foto</label>\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={(e) => setPhoto(e.target.files[0])}\n        />\n      </div>\n\n      {error && <div className=\"text-danger\">{error}</div>}\n\n      <MDBBtn\n        type=\"submit\"\n        disabled={!name || !price || selectedTags.length === 0}\n      >\n        Crear anuncio\n      </MDBBtn>\n    </form>\n  );\n};\n\nexport default AdvertForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}