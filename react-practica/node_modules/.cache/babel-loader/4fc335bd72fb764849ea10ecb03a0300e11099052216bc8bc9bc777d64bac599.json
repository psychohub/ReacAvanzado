{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\huber\\\\Documents\\\\Source\\\\Proyectos\\\\KeepCoding\\\\React_Avanzado\\\\react-practica-main\\\\react-practica\\\\src\\\\components\\\\filter\\\\FilterForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Select from 'react-select';\nimport { getTags } from '../../api/adverts';\nimport { MDBInput, MDBBtn, MDBRow, MDBCol } from 'mdb-react-ui-kit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilterForm = ({\n  adverts,\n  onFilterChange\n}) => {\n  _s();\n  const [name, setName] = useState('');\n  const [sale, setSale] = useState('todos');\n  const [priceMin, setPriceMin] = useState('');\n  const [priceMax, setPriceMax] = useState('');\n  const [tags, setTags] = useState([]);\n  const [selectedTags, setSelectedTags] = useState([]);\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const data = await getTags();\n        setTags(data.map(tag => ({\n          label: tag,\n          value: tag\n        })));\n      } catch (error) {\n        console.error('Error al obtener los tags:', error);\n      }\n    };\n    fetchTags();\n  }, []);\n  useEffect(() => {\n    const filteredAdverts = adverts.filter(advert => {\n      const matchesName = advert.name.toLowerCase().startsWith(name.toLowerCase());\n      const matchesSale = sale === 'todos' || advert.sale.toString() === sale;\n      const matchesPrice = (priceMin === '' || advert.price >= parseInt(priceMin)) && (priceMax === '' || advert.price <= parseInt(priceMax));\n      const matchesTags = selectedTags.every(tag => advert.tags.includes(tag.value));\n      return matchesName && matchesSale && matchesPrice && matchesTags;\n    });\n    onFilterChange(filteredAdverts);\n  }, [adverts, name, sale, priceMin, priceMax, selectedTags, onFilterChange]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(MDBRow, {\n      children: [/*#__PURE__*/_jsxDEV(MDBCol, {\n        md: \"3\",\n        children: /*#__PURE__*/_jsxDEV(MDBInput, {\n          label: \"Nombre\",\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        md: \"3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-outline\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select\",\n            id: \"sale\",\n            value: sale,\n            onChange: e => setSale(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"todos\",\n              children: \"Todos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"true\",\n              children: \"Venta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"false\",\n              children: \"Compra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        md: \"2\",\n        children: /*#__PURE__*/_jsxDEV(MDBInput, {\n          label: \"Precio m\\xEDnimo\",\n          type: \"number\",\n          value: priceMin,\n          onChange: e => setPriceMin(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        md: \"2\",\n        children: /*#__PURE__*/_jsxDEV(MDBInput, {\n          label: \"Precio m\\xE1ximo\",\n          type: \"number\",\n          value: priceMax,\n          onChange: e => setPriceMax(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        md: \"2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-outline\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            isMulti: true,\n            options: tags,\n            value: selectedTags,\n            onChange: setSelectedTags,\n            className: \"basic-multi-select\",\n            classNamePrefix: \"select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterForm, \"cEJ7KiEHcgoC7/qPmjtrFafR3wc=\");\n_c = FilterForm;\nexport default FilterForm;\nvar _c;\n$RefreshReg$(_c, \"FilterForm\");","map":{"version":3,"names":["React","useEffect","useState","Select","getTags","MDBInput","MDBBtn","MDBRow","MDBCol","jsxDEV","_jsxDEV","FilterForm","adverts","onFilterChange","_s","name","setName","sale","setSale","priceMin","setPriceMin","priceMax","setPriceMax","tags","setTags","selectedTags","setSelectedTags","fetchTags","data","map","tag","label","value","error","console","filteredAdverts","filter","advert","matchesName","toLowerCase","startsWith","matchesSale","toString","matchesPrice","price","parseInt","matchesTags","every","includes","className","children","md","type","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","id","isMulti","options","classNamePrefix","_c","$RefreshReg$"],"sources":["C:/Users/huber/Documents/Source/Proyectos/KeepCoding/React_Avanzado/react-practica-main/react-practica/src/components/filter/FilterForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Select from 'react-select';\nimport { getTags } from '../../api/adverts';\nimport { MDBInput, MDBBtn, MDBRow, MDBCol } from 'mdb-react-ui-kit';\n\nconst FilterForm = ({ adverts, onFilterChange }) => {\n  const [name, setName] = useState('');\n  const [sale, setSale] = useState('todos');\n  const [priceMin, setPriceMin] = useState('');\n  const [priceMax, setPriceMax] = useState('');\n  const [tags, setTags] = useState([]);\n  const [selectedTags, setSelectedTags] = useState([]);\n\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const data = await getTags();\n        setTags(data.map((tag) => ({ label: tag, value: tag })));\n      } catch (error) {\n        console.error('Error al obtener los tags:', error);\n      }\n    };\n    fetchTags();\n  }, []);\n\n  useEffect(() => {\n    const filteredAdverts = adverts.filter((advert) => {\n      const matchesName = advert.name\n        .toLowerCase()\n        .startsWith(name.toLowerCase());\n      const matchesSale = sale === 'todos' || advert.sale.toString() === sale;\n      const matchesPrice =\n        (priceMin === '' || advert.price >= parseInt(priceMin)) &&\n        (priceMax === '' || advert.price <= parseInt(priceMax));\n      const matchesTags = selectedTags.every((tag) =>\n        advert.tags.includes(tag.value)\n      );\n\n      return matchesName && matchesSale && matchesPrice && matchesTags;\n    });\n\n    onFilterChange(filteredAdverts);\n  }, [adverts, name, sale, priceMin, priceMax, selectedTags, onFilterChange]);\n\n  return (\n    <form className=\"container mt-5\">\n      <MDBRow>\n        <MDBCol md=\"3\">\n          <MDBInput\n            label=\"Nombre\"\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </MDBCol>\n        <MDBCol md=\"3\">\n          <div className=\"form-outline\">\n            <select\n              className=\"form-select\"\n              id=\"sale\"\n              value={sale}\n              onChange={(e) => setSale(e.target.value)}\n            >\n              <option value=\"todos\">Todos</option>\n              <option value=\"true\">Venta</option>\n              <option value=\"false\">Compra</option>\n            </select>\n          </div>\n        </MDBCol>\n        <MDBCol md=\"2\">\n          <MDBInput\n            label=\"Precio mínimo\"\n            type=\"number\"\n            value={priceMin}\n            onChange={(e) => setPriceMin(e.target.value)}\n          />\n        </MDBCol>\n        <MDBCol md=\"2\">\n          <MDBInput\n            label=\"Precio máximo\"\n            type=\"number\"\n            value={priceMax}\n            onChange={(e) => setPriceMax(e.target.value)}\n          />\n        </MDBCol>\n        <MDBCol md=\"2\">\n          <div className=\"form-outline\">\n            <Select\n              isMulti\n              options={tags}\n              value={selectedTags}\n              onChange={setSelectedTags}\n              className=\"basic-multi-select\"\n              classNamePrefix=\"select\"\n            />\n          </div>\n        </MDBCol>\n      </MDBRow>\n    </form>\n  );\n};\n\nexport default FilterForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}