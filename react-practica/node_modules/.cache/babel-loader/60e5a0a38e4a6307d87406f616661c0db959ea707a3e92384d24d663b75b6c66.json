{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getAdverts, getAdvertById, createAdvert, deleteAdvert, getTags } from '../api/adverts';\n\n// Thunks asíncronos para adverts\nexport const fetchAdverts = createAsyncThunk('adverts/fetchAdverts', async () => {\n  const response = await getAdverts();\n  return response;\n});\nexport const fetchAdvert = createAsyncThunk('adverts/fetchAdvert', async id => {\n  const response = await getAdvertById(id);\n  return response;\n});\nexport const createNewAdvert = createAsyncThunk('adverts/createNewAdvert', async advertData => {\n  const response = await createAdvert(advertData);\n  return response;\n});\nexport const removeAdvert = createAsyncThunk('adverts/removeAdvert', async id => {\n  await deleteAdvert(id);\n  return id;\n});\nexport const fetchTags = createAsyncThunk('adverts/fetchTags', async () => {\n  const response = await getTags();\n  return response;\n});\n\n// Slice para adverts\nconst advertsSlice = createSlice({\n  name: 'adverts',\n  initialState: {\n    tags: [],\n    adverts: [],\n    advertDetail: null,\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchAdverts.pending, state => {\n      state.loading = true;\n    }).addCase(fetchAdverts.fulfilled, (state, action) => {\n      state.loading = false;\n      state.adverts = action.payload;\n    }).addCase(fetchAdverts.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(fetchAdvert.pending, state => {\n      state.loading = true;\n    }).addCase(fetchAdvert.fulfilled, (state, action) => {\n      state.loading = false;\n      state.advertDetail = action.payload;\n    }).addCase(fetchAdvert.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(createNewAdvert.fulfilled, (state, action) => {\n      state.adverts.push(action.payload);\n    }).addCase(removeAdvert.fulfilled, (state, action) => {\n      state.adverts = state.adverts.filter(advert => advert.id !== action.payload);\n    }).addCase(fetchTags.fulfilled, (state, action) => {\n      state.tags = action.payload;\n    });\n  }\n});\nexport default advertsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getAdverts","getAdvertById","createAdvert","deleteAdvert","getTags","fetchAdverts","response","fetchAdvert","id","createNewAdvert","advertData","removeAdvert","fetchTags","advertsSlice","name","initialState","tags","adverts","advertDetail","loading","error","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","filter","advert","reducer"],"sources":["C:/Users/huber/Documents/Source/Proyectos/KeepCoding/React_Avanzado/react-practica-main/react-practica/src/redux/advertsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { getAdverts, getAdvertById, createAdvert, deleteAdvert, getTags } from '../api/adverts';\r\n\r\n\r\n// Thunks asíncronos para adverts\r\nexport const fetchAdverts = createAsyncThunk('adverts/fetchAdverts', async () => {\r\n    const response = await getAdverts();\r\n    return response;\r\n  });\r\n  \r\n  export const fetchAdvert = createAsyncThunk('adverts/fetchAdvert', async (id) => {\r\n    const response = await getAdvertById(id);\r\n    return response;\r\n  });\r\n  \r\n  export const createNewAdvert = createAsyncThunk('adverts/createNewAdvert', async (advertData) => {\r\n    const response = await createAdvert(advertData);\r\n    return response;\r\n  });\r\n  \r\n  export const removeAdvert = createAsyncThunk('adverts/removeAdvert', async (id) => {\r\n    await deleteAdvert(id);\r\n    return id;\r\n  });\r\n  \r\n  export const fetchTags = createAsyncThunk('adverts/fetchTags', async () => {\r\n    const response = await getTags();\r\n    return response;\r\n  });\r\n\r\n// Slice para adverts\r\nconst advertsSlice = createSlice({\r\n    name: 'adverts',\r\n    initialState: {\r\n      tags: [],\r\n      adverts: [],\r\n      advertDetail: null,\r\n      loading: false,\r\n      error: null,\r\n    },\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n      builder\r\n        .addCase(fetchAdverts.pending, (state) => {\r\n          state.loading = true;\r\n        })\r\n        .addCase(fetchAdverts.fulfilled, (state, action) => {\r\n          state.loading = false;\r\n          state.adverts = action.payload;\r\n        })\r\n        .addCase(fetchAdverts.rejected, (state, action) => {\r\n          state.loading = false;\r\n          state.error = action.payload;\r\n        })\r\n        .addCase(fetchAdvert.pending, (state) => {\r\n          state.loading = true;\r\n        })\r\n        .addCase(fetchAdvert.fulfilled, (state, action) => {\r\n          state.loading = false;\r\n          state.advertDetail = action.payload;\r\n        })\r\n        .addCase(fetchAdvert.rejected, (state, action) => {\r\n          state.loading = false;\r\n          state.error = action.payload;\r\n        })\r\n        .addCase(createNewAdvert.fulfilled, (state, action) => {\r\n          state.adverts.push(action.payload);\r\n        })\r\n        .addCase(removeAdvert.fulfilled, (state, action) => {\r\n          state.adverts = state.adverts.filter(advert => advert.id !== action.payload);\r\n        })\r\n        .addCase(fetchTags.fulfilled, (state, action) => {\r\n          state.tags = action.payload;\r\n        });\r\n    },\r\n  });\r\n  \r\n  export default advertsSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}