{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\huber\\\\Documents\\\\Source\\\\Proyectos\\\\KeepCoding\\\\React_Avanzado\\\\react-practica-main\\\\react-practica\\\\src\\\\pages\\\\AdvertPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport AdvertDetails from '../components/adverts/AdvertDetails';\nimport Loader from '../components/Loader';\nimport Navbar from '../components/Navbar';\nimport { getAdvertById, deleteAdvert } from '../api/adverts';\nimport ConfirmationModal from '../components/ConfirmationModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdvertPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [advert, setAdvert] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  useEffect(() => {\n    const fetchAdvert = async () => {\n      try {\n        const data = await getAdvertById(id);\n        setAdvert(data);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error al obtener el anuncio:', error);\n        setLoading(false);\n        navigate('/NotFoundPage');\n      }\n    };\n    fetchAdvert();\n  }, [id, navigate]);\n  const handleDelete = () => {\n    setShowConfirmation(true);\n  };\n  const handleConfirmDelete = async () => {\n    try {\n      await deleteAdvert(id);\n      navigate('/adverts');\n    } catch (error) {\n      console.error('Error al eliminar el anuncio:', error);\n    }\n    setShowConfirmation(false);\n  };\n  const handleCancelDelete = () => {\n    setShowConfirmation(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Detalle del Anuncio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(AdvertDetails, {\n        advert: advert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        children: \"Eliminar Anuncio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), showConfirmation && /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n        message: \"\\xBFEst\\xE1s seguro de que deseas eliminar este anuncio?\",\n        onConfirm: handleConfirmDelete,\n        onCancel: handleCancelDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n_s(AdvertPage, \"En7U2nd9ci52z9a+Z5cdaTF4xEg=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AdvertPage;\nexport default AdvertPage;\nvar _c;\n$RefreshReg$(_c, \"AdvertPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","AdvertDetails","Loader","Navbar","getAdvertById","deleteAdvert","ConfirmationModal","jsxDEV","_jsxDEV","Fragment","_Fragment","AdvertPage","_s","id","navigate","advert","setAdvert","loading","setLoading","showConfirmation","setShowConfirmation","fetchAdvert","data","error","console","handleDelete","handleConfirmDelete","handleCancelDelete","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","message","onConfirm","onCancel","_c","$RefreshReg$"],"sources":["C:/Users/huber/Documents/Source/Proyectos/KeepCoding/React_Avanzado/react-practica-main/react-practica/src/pages/AdvertPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport AdvertDetails from '../components/adverts/AdvertDetails';\nimport Loader from '../components/Loader';\nimport Navbar from '../components/Navbar';\nimport { getAdvertById, deleteAdvert } from '../api/adverts';\nimport ConfirmationModal from '../components/ConfirmationModal';\n\nconst AdvertPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [advert, setAdvert] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n\n  useEffect(() => {\n    const fetchAdvert = async () => {\n      try {\n        const data = await getAdvertById(id);\n        setAdvert(data);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error al obtener el anuncio:', error);\n        setLoading(false);\n        navigate('/NotFoundPage');\n      }\n    };\n\n    fetchAdvert();\n  }, [id, navigate]);\n\n  const handleDelete = () => {\n    setShowConfirmation(true);\n  };\n\n  const handleConfirmDelete = async () => {\n    try {\n      await deleteAdvert(id);\n      navigate('/adverts');\n    } catch (error) {\n      console.error('Error al eliminar el anuncio:', error);\n    }\n    setShowConfirmation(false);\n  };\n\n  const handleCancelDelete = () => {\n    setShowConfirmation(false);\n  };\n\n  return (\n    <>\n      <Navbar />\n      <h1>Detalle del Anuncio</h1>\n      {loading ? (\n        <Loader />\n      ) : (\n        <>\n          <AdvertDetails advert={advert} />\n          <button onClick={handleDelete}>Eliminar Anuncio</button>\n          {showConfirmation && (\n            <ConfirmationModal\n              message=\"¿Estás seguro de que deseas eliminar este anuncio?\"\n              onConfirm={handleConfirmDelete}\n              onCancel={handleCancelDelete}\n            />\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default AdvertPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}