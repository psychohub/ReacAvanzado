{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getAdverts, getAdvertById, createAdvert, deleteAdvert, getTags } from '../api/adverts';\n\n// Thunks asíncronos para adverts\nexport const fetchAdverts = createAsyncThunk('adverts/fetchAdverts', async () => {\n  const response = await getAdverts();\n  return response;\n});\nexport const fetchAdvert = createAsyncThunk('adverts/fetchAdvert', async id => {\n  const response = await getAdvertById(id);\n  return response;\n});\nexport const createNewAdvert = createAsyncThunk('adverts/createNewAdvert', async advertData => {\n  const response = await createAdvert(advertData);\n  return response;\n});\nexport const removeAdvert = createAsyncThunk('adverts/removeAdvert', async id => {\n  await deleteAdvert(id);\n  return id;\n});\nexport const fetchTags = createAsyncThunk('adverts/fetchTags', async () => {\n  const response = await getTags();\n  return response;\n});\n\n// Slice para adverts\nconst advertsSlice = createSlice({\n  name: 'adverts',\n  initialState: {\n    tags: [],\n    adverts: [],\n    advertDetail: null,\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchAdverts.pending, state => {\n      state.loading = true;\n    }).addCase(fetchAdverts.fulfilled, (state, action) => {\n      state.loading = false;\n      state.adverts = action.payload;\n    }).addCase(fetchAdverts.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(fetchAdvert.pending, state => {\n      state.loading = true;\n    }).addCase(fetchAdvert.fulfilled, (state, action) => {\n      state.loading = false;\n      state.advertDetail = action.payload;\n    }).addCase(fetchAdvert.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(createNewAdvert.fulfilled, (state, action) => {\n      state.adverts.push(action.payload);\n    }).addCase(removeAdvert.fulfilled, (state, action) => {\n      state.adverts = state.adverts.filter(advert => advert.id !== action.payload);\n    }).addCase(fetchTags.fulfilled, (state, action) => {\n      state.tags = action.payload;\n    });\n  }\n});\nexport default advertsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getAdverts","getAdvertById","createAdvert","deleteAdvert","getTags","fetchAdverts","response","fetchAdvert","id","createNewAdvert","advertData","removeAdvert","fetchTags","advertsSlice","name","initialState","tags","adverts","advertDetail","loading","error","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","filter","advert","reducer"],"sources":["C:/Users/huber/Documents/Source/Proyectos/KeepCoding/React_Avanzado/react-practica-main/react-practica/src/redux/advertsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport {\n  getAdverts,\n  getAdvertById,\n  createAdvert,\n  deleteAdvert,\n  getTags,\n} from '../api/adverts';\n\n// Thunks asíncronos para adverts\nexport const fetchAdverts = createAsyncThunk(\n  'adverts/fetchAdverts',\n  async () => {\n    const response = await getAdverts();\n    return response;\n  }\n);\n\nexport const fetchAdvert = createAsyncThunk(\n  'adverts/fetchAdvert',\n  async (id) => {\n    const response = await getAdvertById(id);\n    return response;\n  }\n);\n\nexport const createNewAdvert = createAsyncThunk(\n  'adverts/createNewAdvert',\n  async (advertData) => {\n    const response = await createAdvert(advertData);\n    return response;\n  }\n);\n\nexport const removeAdvert = createAsyncThunk(\n  'adverts/removeAdvert',\n  async (id) => {\n    await deleteAdvert(id);\n    return id;\n  }\n);\n\nexport const fetchTags = createAsyncThunk('adverts/fetchTags', async () => {\n  const response = await getTags();\n  return response;\n});\n\n// Slice para adverts\nconst advertsSlice = createSlice({\n  name: 'adverts',\n  initialState: {\n    tags: [],\n    adverts: [],\n    advertDetail: null,\n    loading: false,\n    error: null,\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAdverts.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchAdverts.fulfilled, (state, action) => {\n        state.loading = false;\n        state.adverts = action.payload;\n      })\n      .addCase(fetchAdverts.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(fetchAdvert.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchAdvert.fulfilled, (state, action) => {\n        state.loading = false;\n        state.advertDetail = action.payload;\n      })\n      .addCase(fetchAdvert.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(createNewAdvert.fulfilled, (state, action) => {\n        state.adverts.push(action.payload);\n      })\n      .addCase(removeAdvert.fulfilled, (state, action) => {\n        state.adverts = state.adverts.filter(\n          (advert) => advert.id !== action.payload\n        );\n      })\n      .addCase(fetchTags.fulfilled, (state, action) => {\n        state.tags = action.payload;\n      });\n  },\n});\n\nexport default advertsSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}